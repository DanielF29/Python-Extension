friendly-error-with-no-setup
  extensions [ py ]
  O> py:run "foo" => ERROR Extension exception: Python process has not been started. Please run PY:SETUP before any other python extension primitive.
nonexistent-python
  extensions [ py ]
  O> py:setup "foobarbaz" => ERROR Extension exception: Couldn't find Python executable: foobarbaz

open-connection-python2
  extensions [ py ]
  O> py:setup "python2"

basic-python-types-convert-python2
  extensions [ py ]
  O> py:setup "python2"
  py:runresult "1" => 1
  py:runresult "'hi'" => "hi"
  py:runresult "True" => true
  py:runresult "False" => false
  py:runresult "[1, 'hi', [2, 'bye']]" => [1 "hi" [2 "bye"]]

basic-netlogo-types-convert-python2
  extensions [ py ]
  O> py:setup "python2"
  O> py:set "num" 1
  O> py:set "string" "hi"
  O> py:set "lst" [1 "hi" [2 "bye"]]
  O> py:set "b" true
  py:runresult "num" => 1
  py:runresult "string" => "hi"
  py:runresult "lst" => [1 "hi" [2 "bye"]]
  py:runresult "b" => true

error-handling-python2
  extensions [ py ]
  O> py:setup "python2"
  O> py:run "raise Exception('hi')" => ERROR Extension exception: hi
  py:runresult "1 / 0" => ERROR Extension exception: integer division or modulo by zero

dicts-convert-to-lists-python2
  extensions [ py ]
  O> py:setup "python2"
  py:runresult "{'a': 1}" => [["a" 1]]

sets-convert-to-lists-python2
  extensions [ py ]
  O> py:setup "python2"
  py:runresult "{1, 1}" => [1]

np-array-convert-to-lists-python2
  extensions [ py ]
  O> py:setup "python2"
  O> py:run "import numpy as np"
  py:runresult "np.array([1,2,3])" => [1 2 3]

open-connection-python3
  extensions [ py ]
  O> py:setup "python3"

basic-python-types-convert-python3
  extensions [ py ]
  O> py:setup "python3"
  py:runresult "1" => 1
  py:runresult "'hi'" => "hi"
  py:runresult "True" => true
  py:runresult "False" => false
  py:runresult "[1, 'hi', [2, 'bye']]" => [1 "hi" [2 "bye"]]

basic-netlogo-types-convert-python3
  extensions [ py ]
  O> py:setup "python3"
  O> py:set "num" 1
  O> py:set "string" "hi"
  O> py:set "lst" [1 "hi" [2 "bye"]]
  O> py:set "b" true
  py:runresult "num" => 1
  py:runresult "string" => "hi"
  py:runresult "lst" => [1 "hi" [2 "bye"]]
  py:runresult "b" => true

error-handling-python3
  extensions [ py ]
  O> py:setup "python3"
  O> py:run "raise Exception('hi')" => ERROR Extension exception: hi
  py:runresult "1 / 0" => ERROR Extension exception: division by zero

multiline-python3
  extensions [ py ]
  O> py:setup "python3"
  O> (py:run "x = 0" "for i in range(11):" "    x += i" "x += 45")
  py:runresult "x" => 100

# We were running into https://stackoverflow.com/questions/45132645/list-comprehension-in-exec-with-empty-locals-nameerror
comprehensions-see-variables-python3
  extensions [ py ]
  O> py:setup "python3"
  O> (py:run "x = 2" "y = [i ** x for i in range(5)]")
  py:runresult "y" => [0 1 4 9 16]

dicts-convert-to-lists-python3
  extensions [ py ]
  O> py:setup "python3"
  py:runresult "{'a': 1}" => [["a" 1]]

sets-convert-to-lists-python3
  extensions [ py ]
  O> py:setup "python3"
  py:runresult "{1, 1}" => [1]

np-array-convert-to-lists-python3
  extensions [ py ]
  O> py:setup "python3"
  O> py:run "import numpy as np"
  py:runresult "np.array([1,2,3])" => [1 2 3]

setup-takes-arguments-python3
  extensions [ py ]
  O> (py:setup "python3" "-O")
  py:runresult "0" => 0